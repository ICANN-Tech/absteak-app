import{_ as c}from"./D9Z9MdNV.js";import{w as y,d as g}from"./CBjSQ69Q.js";import{L as u}from"./CZBgViXL.js";const p={current:u.Id,available:[u.Id,u.En,u.Ja]};function T(){try{const t=localStorage.getItem("locale");if(t){const e=JSON.parse(t);if(p.available.includes(e.current))return{...p,current:e.current}}}catch(t){console.warn("Failed to parse stored locale:",t)}return p}const b=y(T());b.subscribe(t=>{try{localStorage.setItem("locale",JSON.stringify(t))}catch(e){console.warn("Failed to save locale to localStorage:",e)}});const E=(t,e,r)=>{const o=t[e];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((n,l)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};function m(t,e){return!e||typeof t!="string"?t:t.replace(/\{\{(\w+)\}\}/g,(r,o)=>{const n=e[o];return n!==void 0?String(n):r})}const d=new Map;async function v(t,e="common"){const r=`${t}-${e}`;if(d.has(r))return d.get(r);try{const o=await E(Object.assign({"../lang/en/common.json":()=>c(()=>import("./Bq98AR4w.js"),[],import.meta.url),"../lang/en/footer.json":()=>c(()=>import("./Be3ckQB9.js"),[],import.meta.url),"../lang/id/common.json":()=>c(()=>import("./-br7wuAR.js"),[],import.meta.url),"../lang/id/footer.json":()=>c(()=>import("./D9--0CUt.js"),[],import.meta.url),"../lang/ja/common.json":()=>c(()=>import("./CY4dYaQ4.js"),[],import.meta.url),"../lang/ja/footer.json":()=>c(()=>import("./DM1-jzsI.js"),[],import.meta.url)}),`../lang/${t}/${e}.json`,4),n=o.default||o;return d.set(r,n),n}catch(o){return console.warn(`Failed to load translations for locale: ${t}, namespace: ${e}`,o),t!==u.Id?v(u.Id,e):{}}}const I=g(b,(t,e)=>{v(t.current,"common").then(e)},{});function O(t,e,r){let o={};I.subscribe(i=>{o=i})();const l=t.split(".");let a=o;for(const i of l)if(a&&typeof a=="object"&&i in a)a=a[i];else return m(e||t,r);return m(typeof a=="string"?a:e||t,r)}const P=(t="common")=>{const e=g(b,(r,o)=>{v(r.current,t).then(o)},{});return g(e,r=>(o,n,l)=>{const a=o.split(".");let s=r;for(const f of a)if(s&&typeof s=="object"&&f in s)s=s[f];else{const _=n||o;return typeof _=="string"?m(_,l):_}const i=s!==void 0?s:n||o;return typeof i=="string"?m(i,l):i})};export{P as c,b as l,O as t};
