import{hideComponent as c,showComponent as C,createStateVisibility as m}from"./1mjPclRo.js";import{w as h,d as f}from"./CBjSQ69Q.js";import{D as u,b,h as d,a as y}from"./gVL5ONnO.js";const l=new Map,o=h(new Map),g=h(new Map);function S(){return{registeredComponents:(e,s)=>{const t={hideDelay:1500,initialVisible:!1,...s},n=m(e.toString(),t);return l.set(e,n),n.isDisplay.subscribe(i=>{g.update(p=>{const a=new Map(p);return a.set(e,i),a}),o.update(p=>{const a=new Map(p);return a.set(e,i),a})}),n},unregisteredComponents:e=>{const s=l.get(e);s&&(s.destroy(),l.delete(e),g.update(t=>{const n=new Map(t);return n.delete(e),n}),o.update(t=>{const n=new Map(t);return n.delete(e),n}))},getComponentVisibility:e=>{let s=!1;return o.subscribe(t=>{s=t.get(e)||!1})(),s},getAllComponentsVisibility:()=>{let e={};return o.subscribe(s=>{s.forEach((t,n)=>{e[n]=t})})(),e},showRegisteredComponents:()=>{l.forEach(e=>{e.show()})},hideRegisteredComponents:()=>{l.forEach(e=>{e.hide()})},callSection:()=>{y(b,o),l.forEach(e=>{e.show()})},exitSection:()=>{d(b,o),l.forEach(e=>{e.show()})},getVisibleComponents:()=>{let e=[];return o.subscribe(s=>{e=[],s.forEach((t,n)=>{t&&e.push(n)})})(),e},isComponentVisible:e=>{let s=!1;return o.subscribe(t=>{s=t.get(e)||!1})(),s},monitorComponent:function(e){const s=b.showOnCall?.includes(e)||!1;return{shouldBeVisible:s,isInVisibleList:s}},showOnlyComponent:e=>{const s=[...u,...Array.from(l.keys())];s.forEach(t=>{if(t===e){u.includes(t)&&C(t);const n=l.get(t);n&&n.show()}else{u.includes(t)&&c(t);const n=l.get(t);n&&n.hide()}}),o.update(t=>{const n=new Map(t);return s.forEach(i=>{n.set(i,i===e)}),n})},hideOnlyComponent:e=>{const s=[...u,...Array.from(l.keys())];s.forEach(t=>{if(t===e){u.includes(t)&&c(t);const n=l.get(t);n&&n.hide()}else{u.includes(t)&&C(t);const n=l.get(t);n&&n.show()}}),o.update(t=>{const n=new Map(t);return s.forEach(i=>{n.set(i,i!==e)}),n})},toggleComponent:e=>{let s=!1;if(o.subscribe(t=>{s=t.get(e)||!1})(),s){u.includes(e)&&c(e);const t=l.get(e);t&&t.hide(),o.update(n=>{const i=new Map(n);return i.set(e,!1),i})}else r.showOnlyComponent(e)},showOnlyComponents:e=>{const s=[...u,...Array.from(l.keys())];s.forEach(t=>{if(e.includes(t)){u.includes(t)&&C(t);const i=l.get(t);i&&i.show()}else{u.includes(t)&&c(t);const i=l.get(t);i&&i.hide()}}),o.update(t=>{const n=new Map(t);return s.forEach(i=>{n.set(i,e.includes(i))}),n})},hideOnlyComponents:e=>{const s=[...u,...Array.from(l.keys())];s.forEach(t=>{if(e.includes(t)){u.includes(t)&&c(t);const i=l.get(t);i&&i.hide()}else{u.includes(t)&&C(t);const i=l.get(t);i&&i.show()}}),o.update(t=>{const n=new Map(t);return s.forEach(i=>{n.set(i,!e.includes(i))}),n})},getComponentTrackingStore:()=>o,getRegisteredComponentTrackingStore:()=>g,isComponentCurrentlyVisible:e=>{let s=!1;return o.subscribe(t=>{s=t.get(e)||!1})(),s},getAllComponentsVisibilityStatus:()=>{let e={};return o.subscribe(s=>{s.forEach((t,n)=>{e[n]=t})})(),e},getComponentVisibilityStore:()=>o,subscribeToComponentVisibility:(e,s)=>{f(o,n=>n.get(e)||!1).subscribe(s)},subscribeToAllComponentsVisibility:e=>{o.subscribe(s=>{const t={};s.forEach((n,i)=>{t[i]=n}),e(t)})},getVisibilityStatistics:()=>{let e={totalComponents:0,visibleComponents:0,hiddenComponents:0,visibilityPercentage:0,visibleComponentIds:[],hiddenComponentIds:[]};return o.subscribe(s=>{e.totalComponents=s.size,e.visibleComponents=0,e.visibleComponentIds=[],e.hiddenComponentIds=[],s.forEach((t,n)=>{t?(e.visibleComponents++,e.visibleComponentIds.push(n)):e.hiddenComponentIds.push(n)}),e.hiddenComponents=e.totalComponents-e.visibleComponents,e.visibilityPercentage=e.totalComponents>0?e.visibleComponents/e.totalComponents*100:0})(),e},updateManualComponentsTracking:(e,s)=>{o.update(t=>{const n=new Map(t);return e.forEach(i=>{n.set(i,s)}),n})}}}const r=S(),E=r.callSection,T=r.exitSection,O=r.registeredComponents,k=r.unregisteredComponents,v=r.getVisibleComponents,A=r.isComponentVisible,R=r.monitorComponent,D=r.showOnlyComponent,N=r.hideOnlyComponent,x=r.toggleComponent,L=r.showOnlyComponents,_=r.hideOnlyComponents,F=r.getComponentTrackingStore,P=r.getRegisteredComponentTrackingStore,U=r.isComponentCurrentlyVisible,H=r.getAllComponentsVisibilityStatus,z=r.getComponentVisibilityStore,B=r.subscribeToComponentVisibility,G=r.subscribeToAllComponentsVisibility,j=r.getVisibilityStatistics,q=r.updateManualComponentsTracking;function J(){return l}export{S as createMenuMonitor,H as getAllMenuComponentsVisibilityStatus,F as getMenuComponentTrackingStore,z as getMenuComponentVisibilityStore,j as getMenuVisibilityStatistics,P as getRegisteredMenuComponentTrackingStore,J as getRegisteredMenuComponents,v as getVisibleMenuComponents,T as hideMenuComponents,N as hideOnlyMenuComponent,_ as hideOnlyMenuComponents,U as isMenuComponentCurrentlyVisible,A as isMenuComponentVisible,r as menuMonitor,R as monitorMenuComponent,O as registerMenuComponent,E as showMenuComponents,D as showOnlyMenuComponent,L as showOnlyMenuComponents,G as subscribeToAllMenuComponentsVisibility,B as subscribeToMenuComponentVisibility,x as toggleMenuComponent,k as unregisterMenuComponent,q as updateMenuManualComponentsTracking};
