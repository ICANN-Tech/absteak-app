import{hideComponent as c,showComponent as u,createStateVisibility as g}from"./1mjPclRo.js";import{w as b,d as m}from"./CBjSQ69Q.js";import{D as C,b as f,h as d,a as y}from"./gVL5ONnO.js";const l=new Map,o=b(new Map),p=b(new Map);function S(){return{registeredComponents:(e,n)=>{const t={hideDelay:1500,initialVisible:!1,...n},s=g(e.toString(),t);return l.set(e,s),s.isDisplay.subscribe(i=>{p.update(h=>{const a=new Map(h);return a.set(e,i),a}),o.update(h=>{const a=new Map(h);return a.set(e,i),a})}),s},unregisteredComponents:e=>{const n=l.get(e);n&&(n.destroy(),l.delete(e),p.update(t=>{const s=new Map(t);return s.delete(e),s}),o.update(t=>{const s=new Map(t);return s.delete(e),s}))},getComponentVisibility:e=>{let n=!1;return o.subscribe(t=>{n=t.get(e)||!1})(),n},getAllComponentsVisibility:()=>{let e={};return o.subscribe(n=>{n.forEach((t,s)=>{e[s]=t})})(),e},showRegisteredComponents:()=>{l.forEach(e=>{e.show()})},hideRegisteredComponents:()=>{l.forEach(e=>{e.hide()})},callSection:()=>{y(f,o),l.forEach(e=>{e.show()})},exitSection:()=>{d(f,o),l.forEach(e=>{e.show()})},getVisibleComponents:()=>{let e=[];return o.subscribe(n=>{e=[],n.forEach((t,s)=>{t&&e.push(s)})})(),e},isComponentVisible:e=>{let n=!1;return o.subscribe(t=>{n=t.get(e)||!1})(),n},monitorComponent:function(e){let n=!1;return o.subscribe(s=>{n=s.get(e)||!1})(),{shouldBeVisible:f.showOnCall?.includes(e)||!1,isInVisibleList:n}},showOnlyComponent:e=>{const n=[...C,...Array.from(l.keys())];n.forEach(t=>{if(t===e){C.includes(t)&&u(t);const s=l.get(t);s&&s.show()}else{C.includes(t)&&c(t);const s=l.get(t);s&&s.hide()}}),o.update(t=>{const s=new Map(t);return n.forEach(i=>{s.set(i,i===e)}),s})},hideOnlyComponent:e=>{const n=[...C,...Array.from(l.keys())];n.forEach(t=>{if(t===e){C.includes(t)&&c(t);const s=l.get(t);s&&s.hide()}else{C.includes(t)&&u(t);const s=l.get(t);s&&s.show()}}),o.update(t=>{const s=new Map(t);return n.forEach(i=>{s.set(i,i!==e)}),s})},toggleComponent:e=>{let n=!1;if(o.subscribe(t=>{n=t.get(e)||!1})(),n){C.includes(e)&&c(e);const t=l.get(e);t&&t.hide(),o.update(s=>{const i=new Map(s);return i.set(e,!1),i})}else r.showOnlyComponent(e)},showOnlyComponents:e=>{const n=[...C,...Array.from(l.keys())];n.forEach(t=>{if(e.includes(t)){C.includes(t)&&u(t);const i=l.get(t);i&&i.show()}else{C.includes(t)&&c(t);const i=l.get(t);i&&i.hide()}}),o.update(t=>{const s=new Map(t);return n.forEach(i=>{s.set(i,e.includes(i))}),s})},hideOnlyComponents:e=>{const n=[...C,...Array.from(l.keys())];n.forEach(t=>{if(e.includes(t)){C.includes(t)&&c(t);const i=l.get(t);i&&i.hide()}else{C.includes(t)&&u(t);const i=l.get(t);i&&i.show()}}),o.update(t=>{const s=new Map(t);return n.forEach(i=>{s.set(i,!e.includes(i))}),s})},getComponentTrackingStore:()=>o,getRegisteredComponentTrackingStore:()=>p,isComponentCurrentlyVisible:e=>{let n=!1;return o.subscribe(t=>{n=t.get(e)||!1})(),n},getAllComponentsVisibilityStatus:()=>{let e={};return o.subscribe(n=>{n.forEach((t,s)=>{e[s]=t})})(),e},getComponentVisibilityStore:()=>o,subscribeToComponentVisibility:(e,n)=>{m(o,s=>s.get(e)||!1).subscribe(n)},subscribeToAllComponentsVisibility:e=>{o.subscribe(n=>{const t={};n.forEach((s,i)=>{t[i]=s}),e(t)})},getVisibilityStatistics:()=>{let e={totalComponents:0,visibleComponents:0,hiddenComponents:0,visibilityPercentage:0,visibleComponentIds:[],hiddenComponentIds:[]};return o.subscribe(n=>{e.totalComponents=n.size,e.visibleComponents=0,e.visibleComponentIds=[],e.hiddenComponentIds=[],n.forEach((t,s)=>{t?(e.visibleComponents++,e.visibleComponentIds.push(s)):e.hiddenComponentIds.push(s)}),e.hiddenComponents=e.totalComponents-e.visibleComponents,e.visibilityPercentage=e.totalComponents>0?e.visibleComponents/e.totalComponents*100:0})(),e},updateManualComponentsTracking:(e,n)=>{o.update(t=>{const s=new Map(t);return e.forEach(i=>{s.set(i,n)}),s})}}}const r=S(),T=r.callSection,M=r.exitSection,O=r.registeredComponents,k=r.unregisteredComponents,v=r.getVisibleComponents,A=r.isComponentVisible,R=r.monitorComponent,D=r.showOnlyComponent,N=r.hideOnlyComponent,x=r.toggleComponent,L=r.showOnlyComponents,_=r.hideOnlyComponents,F=r.getComponentTrackingStore,P=r.getRegisteredComponentTrackingStore,U=r.isComponentCurrentlyVisible,B=r.getAllComponentsVisibilityStatus,H=r.getComponentVisibilityStore,z=r.subscribeToComponentVisibility,G=r.subscribeToAllComponentsVisibility,j=r.getVisibilityStatistics,q=r.updateManualComponentsTracking;function J(){return l}export{r as chefMonitor,S as createChefMonitor,B as getAllChefComponentsVisibilityStatus,F as getChefComponentTrackingStore,H as getChefComponentVisibilityStore,j as getChefVisibilityStatistics,P as getRegisteredChefComponentTrackingStore,J as getRegisteredChefComponents,v as getVisibleChefComponents,M as hideChefComponents,N as hideOnlyChefComponent,_ as hideOnlyChefComponents,U as isChefComponentCurrentlyVisible,A as isChefComponentVisible,R as monitorChefComponent,O as registerChefComponent,T as showChefComponents,D as showOnlyChefComponent,L as showOnlyChefComponents,G as subscribeToAllChefComponentsVisibility,z as subscribeToChefComponentVisibility,x as toggleChefComponent,k as unregisterChefComponent,q as updateChefManualComponentsTracking};
