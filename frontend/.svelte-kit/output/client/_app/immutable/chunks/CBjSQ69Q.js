import{a5 as m,h as T,Q as P,aa as I,bd as y,aI as E,ac as L,B as S,ag as V,at as B,z as N,ah as p,G as z,aR as O,ak as R}from"./BgF9hfIK.js";function K(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const W=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Y(e){return W.includes(e)}const j={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Z(e){return e=e.toLowerCase(),j[e]??e}const C=["touchstart","touchmove"];function $(e){return C.includes(e)}const D=["textarea","script","style","title"];function ee(e){return D.includes(e)}function te(e,t){if(t){const r=document.body;e.autofocus=!0,m(()=>{document.activeElement===r&&e.focus()})}}function re(e){T&&P(e)!==null&&I(e)}let k=!1;function G(){k||(k=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function A(e){var t=S,r=L;y(null),E(null);try{return e()}finally{y(t),E(r)}}function ne(e,t,r,n=r){e.addEventListener(t,()=>A(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),G()}const F=new Set,H=new Set;function ae(e){if(!T)return;e.removeAttribute("onload"),e.removeAttribute("onerror");const t=e.__e;t!==void 0&&(e.__e=void 0,queueMicrotask(()=>{e.isConnected&&e.dispatchEvent(t)}))}function x(e,t,r,n={}){function s(a){if(n.capture||Q.call(t,a),!a.cancelBubble)return A(()=>r?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?m(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function se(e,t,r,n={}){var s=x(t,e,r,n);return()=>{e.removeEventListener(t,s,n)}}function oe(e,t,r,n,s){var a={capture:n,passive:s},l=x(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&V(()=>{t.removeEventListener(e,l,a)})}function ue(e){for(var t=0;t<e.length;t++)F.add(e[t]);for(var r of H)r(e)}function Q(e){var t=this,r=t.ownerDocument,n=e.type,s=e.composedPath?.()||[],a=s[0]||e.target,l=0,u=e.__root;if(u){var i=s.indexOf(u);if(i!==-1&&(t===document||t===window)){e.__root=t;return}var o=s.indexOf(t);if(o===-1)return;i<=o&&(l=i)}if(a=s[l]||e.target,a!==t){B(e,"currentTarget",{configurable:!0,get(){return a||r}});var b=S,v=L;y(null),E(null);try{for(var _,h=[];a!==null;){var c=a.assignedSlot||a.parentNode||a.host||null;try{var f=a["__"+n];if(f!=null&&(!a.disabled||e.target===a))if(N(f)){var[w,...M]=f;w.apply(a,[e,...M])}else f.call(a,e)}catch(g){_?h.push(g):_=g}if(e.cancelBubble||c===t||c===null)break;a=c}if(_){for(let g of h)queueMicrotask(()=>{throw g});throw _}}finally{e.__root=t,delete e.currentTarget,y(b),E(v)}}}function q(e,t,r){if(e==null)return t(void 0),r&&r(void 0),p;const n=z(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const d=[];function U(e,t){return{subscribe:X(e,t).subscribe}}function X(e,t=p){let r=null;const n=new Set;function s(u){if(O(e,u)&&(e=u,r)){const i=!d.length;for(const o of n)o[1](),d.push(o,e);if(i){for(let o=0;o<d.length;o+=2)d[o][0](d[o+1]);d.length=0}}}function a(u){s(u(e))}function l(u,i=p){const o=[u,i];return n.add(o),n.size===1&&(r=t(s,a)||p),u(e),()=>{n.delete(o),n.size===0&&r&&(r(),r=null)}}return{set:s,update:a,subscribe:l}}function ie(e,t,r){const n=!Array.isArray(e),s=n?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return U(r,(l,u)=>{let i=!1;const o=[];let b=0,v=p;const _=()=>{if(b)return;v();const c=t(n?o[0]:o,l,u);a?l(c):v=typeof c=="function"?c:p},h=s.map((c,f)=>q(c,w=>{o[f]=w,b&=~(1<<f),i&&_()},()=>{b|=1<<f}));return i=!0,_(),function(){R(h),v(),i=!1}})}function ce(e){let t;return q(e,r=>t=r)(),t}export{F as a,ae as b,ue as c,ie as d,oe as e,ee as f,ce as g,Q as h,$ as i,K as j,x as k,ne as l,te as m,Z as n,G as o,Y as p,A as q,H as r,q as s,se as t,re as u,X as w};
